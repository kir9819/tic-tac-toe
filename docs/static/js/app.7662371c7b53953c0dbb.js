webpackJsonp([1],{NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("7+uW"),i=r("Zrlr"),n=r.n(i),a=r("wxAW"),u=r.n(a),l="x",o="o",h=function(){function e(){n()(this,e),this.games=[],this.points=[0,0]}return u()(e,[{key:"newRound",value:function(e){var t=new v(e);return this.games.push(t),t}}]),e}(),c=function(){function e(t,r){n()(this,e),this.value=null,this.x=t,this.y=r}return u()(e,[{key:"choose",value:function(e){this.value=e}}]),e}(),v=function(){function e(t){n()(this,e),this.player=t,this.history=[],this.field=[],this.size=3,this.currTurn=o,this.nextTurn=l,this.turns=[],this.compTurns=[];for(var r=0;r<3;r++){this.field[r]=[];for(var s=0;s<3;s++){var i=new c(r,s);this.field[r][s]=i,this.turns.push(i)}}this.result=null}return u()(e,[{key:"check",value:function(){var e=!0,t=!0,r=this.currTurn!==this.player,s="",i="",n=null,a=null;this.compTurns.length=0;for(var u=0;u<3;u++){for(var l=!0,o=!0,h="",c="",v=null,p=null,d=0;d<3;d++)l&=this.field[u][d].value===this.currTurn,o&=this.field[d][u].value===this.currTurn,r||(h+=this.field[u][d].value?this.field[u][d].value:"",v=this.field[u][d].value?v:this.field[u][d],c+=this.field[d][u].value?this.field[d][u].value:"",p=this.field[d][u].value?p:this.field[d][u]);if(l||o)return!0;r||(2===h.length&&h[0]===h[1]&&(h[0]===this.player?this.compTurns.unshift(v):this.compTurns.push(v)),2===c.length&&c[0]===c[1]&&(c[0]===this.player?this.compTurns.unshift(p):this.compTurns.push(p))),e&=this.field[u][u].value===this.currTurn,t&=this.field[u][2-u].value===this.currTurn,r||(s+=this.field[u][u].value?this.field[u][u].value:"",n=this.field[u][u].value?n:this.field[u][u],i+=this.field[u][2-u].value?this.field[u][2-u].value:"",a=this.field[u][2-u].value?a:this.field[u][2-u])}return!(!e&&!t)||(r||(2===s.length&&s[0]===s[1]&&(s[0]===this.player?this.compTurns.unshift(n):this.compTurns.push(n)),2===i.length&&i[0]===i[1]&&(i[0]===this.player?this.compTurns.unshift(a):this.compTurns.push(a))),!1)}},{key:"computerTurn",value:function(){return this.turn(this.turns[(e=0,t=this.turns.length-1,Math.floor(Math.random()*(t-e+1))+e)]);var e,t}},{key:"computerHardTurn",value:function(){return this.history.length?this.compTurns.length?this.turn(this.compTurns.pop()):this.computerTurn():this.turn(this.field[1][1])}},{key:"turn",value:function(e){if(e.choose(this.currTurn),this.history.push(this.field),this.turns.splice(this.turns.indexOf(e),1),this.check())this.result=this.player===this.currTurn?"player":"computer";else if(9===this.history.length)this.result="draw";else{var t=this.nextTurn;this.nextTurn=this.currTurn,this.currTurn=t,this.result="next"}return this.result}}]),e}();var p=h,d={data:function(){return{game:{},round:{},gameStarted:!1,isGameOver:!0,isGame:!1,result:"",player:"o",level:"computerTurn"}},created:function(){this.game=new p},watch:{"round.currTurn":function(){var e=this;this.round.currTurn!==this.player&&setTimeout(function(){e.setResult(e.round[e.level]())},600)}},methods:{newRound:function(){var e=this;this.isGame=!0,this.isGameOver=!1,this.gameStarted=!0,setTimeout(function(){e.round=e.game.newRound(e.player),e.round.currTurn!==e.player&&e.setResult(e.round[e.level]()),e.gameStarted=!1},500)},turn:function(e){this.isGameOver||e.value||this.round.currTurn!==this.player||this.setResult(this.round.turn(e))},setResult:function(e){switch(e){case"next":break;case"player":this.game.points[0]++,this.result="YOU WIN",this.isGameOver=!0;break;case"computer":this.game.points[1]++,this.result="COMPUTER WIN",this.isGameOver=!0;break;case"draw":this.game.points[0]++,this.game.points[1]++,this.result="DRAW",this.isGameOver=!0;break;default:console.log("Error in set result")}}}},m={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{class:"player "+(e.game.points[0]<e.game.points[1]?"loser":"winner")},[r("span",[e._v("Player:")]),e._v(" "),r("span",{staticClass:"points"},[e._v(e._s(e.game.points[0]))])]),e._v(" "),r("div",{class:"params "+(e.isGameOver?"visible":"unvisible")},[r("div",{staticClass:"param"},[r("p",[e._v("Level:")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.level,expression:"level"}],attrs:{type:"radio",value:"computerTurn",id:"easy",disabled:!e.isGameOver},domProps:{checked:e._q(e.level,"computerTurn")},on:{change:function(t){e.level="computerTurn"}}}),e._v(" "),r("label",{attrs:{for:"easy"}},[e._v("Easy")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.level,expression:"level"}],attrs:{type:"radio",value:"computerHardTurn",id:"hard",disabled:!e.isGameOver},domProps:{checked:e._q(e.level,"computerHardTurn")},on:{change:function(t){e.level="computerHardTurn"}}}),e._v(" "),r("label",{attrs:{for:"hard"}},[e._v("Hard")])]),e._v(" "),r("div",{staticClass:"param"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.player,expression:"player"}],attrs:{type:"radio",value:"o",id:"o",disabled:!e.isGameOver},domProps:{checked:e._q(e.player,"o")},on:{change:function(t){e.player="o"}}}),e._v(" "),r("label",{attrs:{for:"o"}},[e._v("O")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.player,expression:"player"}],attrs:{type:"radio",value:"x",id:"x",disabled:!e.isGameOver},domProps:{checked:e._q(e.player,"x")},on:{change:function(t){e.player="x"}}}),e._v(" "),r("label",{attrs:{for:"x"}},[e._v("X")])])]),e._v(" "),r("div",{class:"computer "+(e.game.points[1]<e.game.points[0]?"loser":"winner")},[r("span",[e._v("Computer:")]),e._v(" "),r("span",{staticClass:"points"},[e._v(e._s(e.game.points[1]))])]),e._v(" "),r("div",{class:e.isGameOver||e.gameStarted?"unvisible":"visible"},[r("transition",{attrs:{name:"turn-help",mode:"out-in"}},[e.player===e.round.currTurn?r("div",{key:"player",staticClass:"turn-help"},[e._v("\n        Your turn\n      ")]):r("div",{key:"computer",staticClass:"turn-help"},[e._v("\n        Computer turn\n      ")])])],1),e._v(" "),r("transition",{attrs:{name:"cell-container"}},[e.round.field?r("div",e._l(e.round.field,function(t,s){return r("div",{key:s,staticClass:"cell-row"},e._l(t,function(t,s){return r("input",{key:s,class:"cell "+(!t.value||e.gameStarted?"cell-empty":"")+" "+(e.isGameOver?"game-over":""),attrs:{type:"button",disabled:e.isGameOver,value:t.value||e.player},on:{click:function(r){e.turn(t)}}})}))})):e._e()]),e._v(" "),r("transition",{attrs:{name:"result",duration:{enter:300,leave:300}}},[e.isGameOver?r("div",{staticClass:"result"},[e._v(e._s(e.result))]):e._e()]),e._v(" "),r("transition",{attrs:{name:"new-game",duration:{enter:2e3,leave:300}}},[e.isGameOver?r("div",[r("input",{staticClass:"new-game",attrs:{type:"button",value:"NEW GAME"},on:{click:function(t){e.newRound()}}})]):e._e()])],1)},staticRenderFns:[]};var f={name:"App",components:{Game:r("VU/8")(d,m,!1,function(e){r("bpFn")},"data-v-a07fdaee",null).exports}},y={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("game")],1)},staticRenderFns:[]};var _=r("VU/8")(f,y,!1,function(e){r("mmri")},null,null).exports;s.a.config.productionTip=!1,new s.a({el:"#app",components:{App:_},template:"<App/>"})},bpFn:function(e,t){},mmri:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.7662371c7b53953c0dbb.js.map